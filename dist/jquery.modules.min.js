!function(t,e,$){"use strict";function n(){var t=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)});return e}function r(t){if(null==t||"object"!=typeof t)return t;var e=t.constructor();for(var n in t)t.hasOwnProperty(n)&&(e[n]=clone(t[n]));return e}var i=["trigger","pause","destroy"],a=["action","destroy","init","trigger"],o={},u={extend:function(n,r){var i=$.extend({},{components:{window:t,document:e},actions:{},events:{},services:{}},r),u=!1,c={},s=[];return c.$el=n,c.data={},$.each(i.components,function(t,e){if("el"!==t)switch($.type(e)){case"string":case"array":c["$"+t]=c.$el.find(e);break;case"function":c["$"+t]=e.call(c.$el)}}),$.each(i.services,function(t,e){if(-1===a.indexOf(t))if("string"===$.type(e)){var n=o[e];n&&("object"===$.type(n)?c[t]=n:"function"===$.type(n)&&(c[t]=n()))}else"object"===$.type(e)?(o[t]||(o[t]=e),c[t]=e):"function"===$.type(e)&&(o[t]||(o[t]=e),c[t]=e())}),$.each(i.events,function(t,e){var n=t.match(/^([\w]+)\(([^)]+)\)$/),r=null,i;if("array"===$.type(n)&&n.length>=2?(r=n[1],i=n[2]):r=t,-1===["string","array"].indexOf($.type(e)))throw"Unsupported event action parameter";c.$el.on(r,i,function(t){if(u)return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),!1;var n=$(this);if("array"===$.type(e))$.each(e,function(e,r){return c.action(r,t,n)});else if("string"===$.type(e))return c.action(e,t,n)}),-1===s.indexOf(r)&&s.push(r)}),c.init=function(){return"function"===$.type(i.init)&&(i.init.call(c),delete c.init),c},c.pause=function(t){u!==t&&(u=t)},c.destroy=function(){"function"===$.type(i.destroy)&&(i.destroy.call(c),delete c.destroy),$.each(s,function(t){c.$el.off(t)}),s=null,c=null,i=null},c.action=function(){if(!u){var t=arguments[0],e=Array.prototype.splice.call(arguments,1);return i.actions[t]&&i.actions[t].apply?i.actions[t].apply(c,e):void 0}},c.trigger=function(){if(u)return c;var t=arguments[0],e=Array.prototype.splice.call(arguments,1);return t&&c.$el.trigger(t,e),c},c}},c={};$.fn.module=function(t,e){var r=arguments;return"string"===$.type(t)?-1===i.indexOf(t)?this:(this.each(function(){var n=$(this),i=c[n.data("uuid")];if(i&&"function"===$.type(i[t])){var a=[];"pause"===t?a.push(!!e):"trigger"===t&&(a=Array.prototype.slice.call(r,1)),i[t].apply(i,a),"destroy"===t&&(c[n.data("uuid")]=void 0,n.data("uuid",null))}}),this):(this.each(function(){var e=$(this),r,i;e.data("uuid")?(r=e.data("uuid"),i=c[r]):(r=n(),i=c[r]=u.extend(e,t),i.init(),e.data("uuid",r))}),this)}}(this,this.document,jQuery);
!function(t,n,$){"use strict";function e(){var t=(new Date).getTime(),n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var e=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==n?e:3&e|8).toString(16)});return n}function r(t){if(null==t||"object"!=typeof t)return t;var n=t.constructor();for(var e in t)t.hasOwnProperty(e)&&(n[e]=clone(t[e]));return n}var i=["trigger","pause","destroy"],a=["action","destroy","init","trigger"],o={extend:function(e,r){var i=$.extend({},{components:{window:t,document:n},actions:{},events:{}},r),a=!1,o={},u=[];return o.$el=e,o.data={},$.each(i.components,function(t,n){if("el"!==t)switch($.type(n)){case"string":case"array":o["$"+t]=o.$el.find(n);break;case"function":o["$"+t]=n.call(o.$el)}}),$.each(i.events,function(t,n){var e=t.match(/^([\w]+)\(([^)]+)\)$/),r=null,i;if("array"===$.type(e)&&e.length>=2?(r=e[1],i=e[2]):r=t,-1===["string","array"].indexOf($.type(n)))throw"Unsupported event action parameter";o.$el.on(r,i,function(t){if(a)return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),!1;var e=$(this);if("array"===$.type(n))$.each(n,function(n,r){return o.action(r,t,e)});else if("string"===$.type(n))return o.action(n,t,e)}),-1===u.indexOf(r)&&u.push(r)}),o.init=function(){return"function"===$.type(i.init)&&(i.init.call(o),delete o.init),o},o.pause=function(t){a!==t&&(a=t)},o.destroy=function(){"function"===$.type(i.destroy)&&(i.destroy.call(o),delete o.destroy),$.each(u,function(t){o.$el.off(t)}),u=null,o=null,i=null},o.action=function(){if(!a){var t=arguments[0],n=Array.prototype.splice.call(arguments,1);return i.actions[t]&&i.actions[t].apply?i.actions[t].apply(o,n):void 0}},o.trigger=function(){if(a)return o;var t=arguments[0],n=Array.prototype.splice.call(arguments,1);return t&&o.$el.trigger(t,n),o},o}},u={};$.fn.module=function(t,n){var r=arguments;return"string"===$.type(t)?-1===i.indexOf(t)?this:(this.each(function(){var e=$(this),i=u[e.data("uuid")];if(i&&"function"===$.type(i[t])){var a=[];"pause"===t?a.push(!!n):"trigger"===t&&(a=Array.prototype.slice.call(r,1)),i[t].apply(i,a),"destroy"===t&&(u[e.data("uuid")]=void 0,e.data("uuid",null))}}),this):(this.each(function(){var n=$(this),r,i;n.data("uuid")?(r=n.data("uuid"),i=u[r]):(r=e(),i=u[r]=o.extend(n,t),i.init(),n.data("uuid",r))}),this)}}(this,this.document,jQuery);